var locations = {
	queensway: {
		name: 'The Queensway',
		x: 40.72464,
		y: -73.85911,
		pointsofinterest: [
			{
				type: 'marker',
				cords: {
					x: 40.7262,
					y: -73.86323
				},
				title: 'Start of Queensway',
			},
			{
				type: 'marker',
				cords: {
					x: 40.72379,
					y: -73.85915
				},
				title: 'Queensway at 64th Rd',
			},
			{
				type: 'marker',
				cords: {
					x: 40.71975,
					y: -73.85814
				},
				title: 'Queensway at Fleet St',
			},
			{
				type: 'marker',
				cords: {
					x: 40.71648,
					y: -73.85791
				},
				title: 'Queensway at Yellowstone Blvd',
			},
			{
				type: 'marker',
				cords: {
					x: 40.71156,
					y: -73.85726
				},
				title: 'Queensway at Metropolitan Ave',
			},
			{
				type: 'marker',
				cords: {
					x: 40.70652,
					y: -73.85645
				},
				title: 'Queensway at Union Tpke',
			},
			{
				type: 'marker',
				cords: {
					x: 40.70427,
					y: -73.85406
				},
				title: 'Queensway at Jackie Robinson Pkwy',
			},
			{
				type: 'marker',
				cords: {
					x: 40.70241,
					y: -73.85237
				},
				title: 'Queensway at Myrtle Ave',
			},
			{
				type: 'marker',
				cords: {
					x: 40.69838,
					y: -73.8493
				},
				title: 'Queensway at Park Ln S',
			},
			{
				type: 'marker',
				cords: {
					x: 40.69496,
					y: -73.84707
				},
				title: 'Queensway at Jamaica Ave',
			},
			{
				type: 'marker',
				cords: {
					x: 40.68946,
					y: -73.8443
				},
				title: 'Queensway at Atlantic Ave',
			},
			{
				type: 'marker',
				cords: {
					x: 40.68001,
					y: -73.83976
				},
				title: 'Queensway at Rockaway Blvd',
			},
		]
	},
	central_london: {
		name: 'Central London',
		x: 51.505,
		y: -0.09
	},
};


var geoBorough = {
  "type": "FeatureCollection",
  "features": [
  	{
      "type": "Feature",
      "properties": {
        "neighborhood": "Forest Hills",
        "boroughCode": "4",
        "borough": "Queens",
        "@id": "http://nyc.pediacities.com/Resource/Neighborhood/Forest_Hills"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              -73.846937348263751,
              40.738704562472456
            ],
            [
              -73.846055,
              40.737099000000214
            ],
            [
              -73.845426,
              40.734950000000225
            ],
            [
              -73.84435,
              40.732979000000213
            ],
            [
              -73.842774363927774,
              40.731120378496684
            ],
            [
              -73.84138536392777,
              40.729998000000293
            ],
            [
              -73.839797575951849,
              40.728199379458189
            ],
            [
              -73.836542424048133,
              40.722547050143298
            ],
            [
              -73.83535641960917,
              40.720805071128765
            ],
            [
              -73.834915165452983,
              40.719298703714578
            ],
            [
              -73.833528650994666,
              40.71841750301536
            ],
            [
              -73.829855888273485,
              40.715619339811518
            ],
            [
              -73.830078528200531,
              40.715160806114838
            ],
            [
              -73.830386723641155,
              40.714960890285205
            ],
            [
              -73.830756954108338,
              40.714533454876495
            ],
            [
              -73.83355,
              40.713044000000124
            ],
            [
              -73.835994193004538,
              40.711727452435518
            ],
            [
              -73.836112311033986,
              40.71182793782895
            ],
            [
              -73.836853860923853,
              40.71138030971801
            ],
            [
              -73.838043155220859,
              40.710926656759192
            ],
            [
              -73.840770987583923,
              40.710150446633854
            ],
            [
              -73.8431152894333,
              40.709207573347214
            ],
            [
              -73.845037524613176,
              40.708518109637474
            ],
            [
              -73.846922567743832,
              40.708293665493215
            ],
            [
              -73.848942202077723,
              40.708479371007606
            ],
            [
              -73.851107716944867,
              40.707911066155184
            ],
            [
              -73.854795029749496,
              40.706783934270554
            ],
            [
              -73.854329981187618,
              40.706171197070084
            ],
            [
              -73.854376674641017,
              40.705362071069672
            ],
            [
              -73.854663346580523,
              40.704949620971597
            ],
            [
              -73.852229493937273,
              40.702248115928661
            ],
            [
              -73.85525835908291,
              40.702589606356213
            ],
            [
              -73.85529094184345,
              40.703143952817335
            ],
            [
              -73.855548491193005,
              40.70372174450776
            ],
            [
              -73.85823256262168,
              40.705596880738128
            ],
            [
              -73.85881616356285,
              40.706203868557623
            ],
            [
              -73.859185559385836,
              40.707093634060868
            ],
            [
              -73.859771246213484,
              40.711843094161978
            ],
            [
              -73.856448,
              40.711338000000197
            ],
            [
              -73.857479,
              40.719677000000232
            ],
            [
              -73.856652,
              40.719869000000301
            ],
            [
              -73.857268,
              40.721504000000223
            ],
            [
              -73.853721,
              40.72696200000027
            ],
            [
              -73.852724,
              40.726639000000191
            ],
            [
              -73.852008212024074,
              40.726866000000143
            ],
            [
              -73.85173,
              40.728478000000294
            ],
            [
              -73.853259511826678,
              40.731102790228704
            ],
            [
              -73.854207278308962,
              40.73304263460237
            ],
            [
              -73.854714746854569,
              40.732862523754925
            ],
            [
              -73.856152,
              40.735648000000239
            ],
            [
              -73.856492177654857,
              40.736273459982527
            ],
            [
              -73.85339,
              40.736932861617163
            ],
            [
              -73.851571110613719,
              40.737385626670914
            ],
            [
              -73.848852556418237,
              40.738326898064663
            ],
            [
              -73.846937348263751,
              40.738704562472456
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "neighborhood": "Rego Park",
        "boroughCode": "4",
        "borough": "Queens",
        "@id": "http://nyc.pediacities.com/Resource/Neighborhood/Rego_Park"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              -73.859684075490691,
              40.714361940428049
            ],
            [
              -73.86003549913886,
              40.71497461445999
            ],
            [
              -73.864122963585046,
              40.718844827327779
            ],
            [
              -73.869292691740299,
              40.724435949058851
            ],
            [
              -73.870090937656386,
              40.726052719308555
            ],
            [
              -73.870876159788224,
              40.728051466553424
            ],
            [
              -73.871429,
              40.729248000000148
            ],
            [
              -73.871341035498688,
              40.730230995359925
            ],
            [
              -73.871344,
              40.731837000000134
            ],
            [
              -73.870813,
              40.732684000000226
            ],
            [
              -73.869199520593455,
              40.733371883887678
            ],
            [
              -73.867914611650306,
              40.73394295452912
            ],
            [
              -73.866629702707144,
              40.734014338359167
            ],
            [
              -73.865630329084709,
              40.733728803038446
            ],
            [
              -73.864427263580964,
              40.733904523320149
            ],
            [
              -73.864424,
              40.733905000000263
            ],
            [
              -73.8585,
              40.735662861617243
            ],
            [
              -73.856492177654857,
              40.736273459982527
            ],
            [
              -73.856152,
              40.735648000000239
            ],
            [
              -73.854714746854569,
              40.732862523754925
            ],
            [
              -73.854207278308962,
              40.73304263460237
            ],
            [
              -73.853259511826678,
              40.731102790228704
            ],
            [
              -73.85173,
              40.728478000000294
            ],
            [
              -73.852008212024074,
              40.726866000000143
            ],
            [
              -73.852724,
              40.726639000000191
            ],
            [
              -73.853721,
              40.72696200000027
            ],
            [
              -73.857268,
              40.721504000000223
            ],
            [
              -73.856652,
              40.719869000000301
            ],
            [
              -73.857479,
              40.719677000000232
            ],
            [
              -73.856448,
              40.711338000000197
            ],
            [
              -73.859771246213484,
              40.711843094161978
            ],
            [
              -73.859637275280434,
              40.713400649942855
            ],
            [
              -73.859684075490691,
              40.714361940428049
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "neighborhood": "Richmond Hill",
        "boroughCode": "4",
        "borough": "Queens",
        "@id": "http://nyc.pediacities.com/Resource/Neighborhood/Richmond_Hill"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              -73.818459000000104,
              40.705663
            ],
            [
              -73.817769000000126,
              40.70548
            ],
            [
              -73.817020000000156,
              40.704041
            ],
            [
              -73.814144000000127,
              40.697931000000139
            ],
            [
              -73.808703578509039,
              40.688579164365095
            ],
            [
              -73.807453684032239,
              40.686174745771808
            ],
            [
              -73.805832052641463,
              40.682913676841622
            ],
            [
              -73.825781000000106,
              40.677207
            ],
            [
              -73.830875159571264,
              40.678108525041694
            ],
            [
              -73.831083,
              40.67815100000027
            ],
            [
              -73.83754,
              40.691364000000348
            ],
            [
              -73.845026,
              40.689238000000216
            ],
            [
              -73.84773478561398,
              40.694953994845925
            ],
            [
              -73.848927619874942,
              40.697471076467991
            ],
            [
              -73.849478,
              40.698196
            ],
            [
              -73.847013037221785,
              40.698855575126316
            ],
            [
              -73.84502077795679,
              40.699349980245394
            ],
            [
              -73.842947423998908,
              40.700554791343386
            ],
            [
              -73.84213298267511,
              40.700915744926675
            ],
            [
              -73.841548529871901,
              40.701074435646298
            ],
            [
              -73.838562077000716,
              40.703315746424842
            ],
            [
              -73.8353,
              40.70201
            ],
            [
              -73.82576,
              40.704428
            ],
            [
              -73.824440999999894,
              40.704062
            ],
            [
              -73.8251,
              40.707449000000111
            ],
            [
              -73.824065413628617,
              40.70694377271797
            ],
            [
              -73.822938212024056,
              40.706197506213869
            ],
            [
              -73.82202,
              40.705212000000117
            ],
            [
              -73.82063,
              40.705842
            ],
            [
              -73.82008,
              40.705031
            ],
            [
              -73.818459000000104,
              40.705663
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "neighborhood": "Forest Park",
        "boroughCode": "4",
        "borough": "Queens",
        "@id": "http://nyc.pediacities.com/Resource/Neighborhood/Forest_Park"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              -73.849478,
              40.698196
            ],
            [
              -73.850567881823721,
              40.699601274264431
            ],
            [
              -73.850666556460808,
              40.700209556919432
            ],
            [
              -73.852592661948989,
              40.700468927482298
            ],
            [
              -73.854165153967415,
              40.700798380610138
            ],
            [
              -73.854581616195205,
              40.700612370279522
            ],
            [
              -73.853524678252228,
              40.699472998562641
            ],
            [
              -73.852771383019871,
              40.698274992447516
            ],
            [
              -73.852717056167435,
              40.698003163338662
            ],
            [
              -73.852772815935424,
              40.697540687441197
            ],
            [
              -73.856543521350673,
              40.697075062432134
            ],
            [
              -73.862330227297079,
              40.69596225378455
            ],
            [
              -73.868572590507739,
              40.694699782011888
            ],
            [
              -73.868143792951329,
              40.694026045810624
            ],
            [
              -73.868644274478882,
              40.693898245228652
            ],
            [
              -73.86757095559355,
              40.692066032277602
            ],
            [
              -73.867285963393385,
              40.691664266808402
            ],
            [
              -73.867211000194445,
              40.69130843963157
            ],
            [
              -73.868063526908173,
              40.691182038474025
            ],
            [
              -73.871419136314771,
              40.690404361812014
            ],
            [
              -73.87565516666578,
              40.688640583903741
            ],
            [
              -73.8821894001712,
              40.685345756668973
            ],
            [
              -73.888167183972612,
              40.682550065302436
            ],
            [
              -73.890240324214133,
              40.685086731072204
            ],
            [
              -73.893463706464189,
              40.683241345478791
            ],
            [
              -73.894522901330177,
              40.684928584380991
            ],
            [
              -73.896441102783086,
              40.682456998888505
            ],
            [
              -73.896696439999843,
              40.680393506750221
            ],
            [
              -73.898835711748632,
              40.679558840213247
            ],
            [
              -73.900439456395262,
              40.679547020427833
            ],
            [
              -73.902641723804948,
              40.680703708169872
            ],
            [
              -73.902753670616917,
              40.682414863718215
            ],
            [
              -73.905713666183004,
              40.684099165412732
            ],
            [
              -73.904738950765875,
              40.685629794446477
            ],
            [
              -73.90418279791993,
              40.685426953622468
            ],
            [
              -73.904054163581051,
              40.684970344181075
            ],
            [
              -73.903684134771268,
              40.68520962813308
            ],
            [
              -73.904581280694572,
              40.686424500157138
            ],
            [
              -73.905495098993114,
              40.686882266835894
            ],
            [
              -73.904773128510186,
              40.688317552685149
            ],
            [
              -73.901579651736242,
              40.691766224143407
            ],
            [
              -73.90039437797121,
              40.693329653190126
            ],
            [
              -73.897346173910606,
              40.694114892600794
            ],
            [
              -73.897053041111249,
              40.693930926798835
            ],
            [
              -73.897719662609163,
              40.693410980865558
            ],
            [
              -73.896967724843861,
              40.691920312871744
            ],
            [
              -73.89460451418816,
              40.692584169205126
            ],
            [
              -73.893541068832334,
              40.692287212365528
            ],
            [
              -73.893679093844071,
              40.693219564906094
            ],
            [
              -73.895795828864607,
              40.694405729573127
            ],
            [
              -73.892363266325304,
              40.695292785890189
            ],
            [
              -73.891906594226711,
              40.694316784684524
            ],
            [
              -73.889064437623119,
              40.694943550725064
            ],
            [
              -73.888422024341807,
              40.695623322789238
            ],
            [
              -73.88847482472724,
              40.695898989945874
            ],
            [
              -73.886281708548935,
              40.696374982481842
            ],
            [
              -73.88680731653497,
              40.696670051426146
            ],
            [
              -73.887329520317692,
              40.697040991146686
            ],
            [
              -73.887696811076552,
              40.697499182658085
            ],
            [
              -73.887860805847751,
              40.698019454735437
            ],
            [
              -73.88811872854528,
              40.698824417356313
            ],
            [
              -73.888078352875482,
              40.69906567832949
            ],
            [
              -73.88771600003578,
              40.699676450134938
            ],
            [
              -73.884280169377121,
              40.700191034021238
            ],
            [
              -73.882727805042194,
              40.700714029859284
            ],
            [
              -73.881761105506996,
              40.699493475198793
            ],
            [
              -73.87613804061165,
              40.70159263215438
            ],
            [
              -73.876146843794047,
              40.701889337897811
            ],
            [
              -73.875649820196969,
              40.702358467550852
            ],
            [
              -73.869021980649549,
              40.70286696257407
            ],
            [
              -73.862811493709103,
              40.703437057031337
            ],
            [
              -73.858525840300018,
              40.702951680527249
            ],
            [
              -73.8588912603757,
              40.701325615090617
            ],
            [
              -73.857331053398823,
              40.701154120445644
            ],
            [
              -73.857264214086115,
              40.701660261428074
            ],
            [
              -73.855253689327327,
              40.701921634531104
            ],
            [
              -73.85525835908291,
              40.702589606356213
            ],
            [
              -73.852229493937273,
              40.702248115928661
            ],
            [
              -73.854663346580523,
              40.704949620971597
            ],
            [
              -73.854376674641017,
              40.705362071069672
            ],
            [
              -73.854329981187618,
              40.706171197070084
            ],
            [
              -73.854795029749482,
              40.706783934270533
            ],
            [
              -73.851107716944867,
              40.707911066155191
            ],
            [
              -73.848942202077708,
              40.708479371007606
            ],
            [
              -73.846922567743832,
              40.708293665493201
            ],
            [
              -73.845037524613161,
              40.708518109637474
            ],
            [
              -73.8431152894333,
              40.709207573347186
            ],
            [
              -73.840770987583909,
              40.710150446633854
            ],
            [
              -73.838043155220845,
              40.71092665675917
            ],
            [
              -73.836853860923839,
              40.711380309717995
            ],
            [
              -73.836112311033972,
              40.711827937828957
            ],
            [
              -73.835994193004524,
              40.711727452435525
            ],
            [
              -73.834095145887133,
              40.710026242218191
            ],
            [
              -73.836430825507108,
              40.708783108189223
            ],
            [
              -73.836767518198783,
              40.70847320531243
            ],
            [
              -73.838064303730505,
              40.706602662576508
            ],
            [
              -73.838131695027911,
              40.706254460162015
            ],
            [
              -73.837824160486221,
              40.705582985177998
            ],
            [
              -73.837066819893479,
              40.704438525183107
            ],
            [
              -73.836980468090175,
              40.704104476323124
            ],
            [
              -73.83734607377599,
              40.703934369863056
            ],
            [
              -73.838562077000716,
              40.703315746424849
            ],
            [
              -73.841548529871901,
              40.701074435646298
            ],
            [
              -73.84213298267511,
              40.700915744926675
            ],
            [
              -73.842947423998908,
              40.700554791343386
            ],
            [
              -73.84502077795679,
              40.699349980245394
            ],
            [
              -73.847013037221785,
              40.698855575126316
            ],
            [
              -73.849478,
              40.698196
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "neighborhood": "Woodhaven",
        "boroughCode": "4",
        "borough": "Queens",
        "@id": "http://nyc.pediacities.com/Resource/Neighborhood/Woodhaven"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              -73.862330227297079,
              40.69596225378455
            ],
            [
              -73.856543521350673,
              40.697075062432134
            ],
            [
              -73.852772815935424,
              40.697540687441197
            ],
            [
              -73.852717056167435,
              40.698003163338662
            ],
            [
              -73.852771383019871,
              40.698274992447516
            ],
            [
              -73.853524678252228,
              40.699472998562641
            ],
            [
              -73.854581616195205,
              40.700612370279522
            ],
            [
              -73.854165153967415,
              40.700798380610138
            ],
            [
              -73.852592661948989,
              40.700468927482298
            ],
            [
              -73.850666556460808,
              40.700209556919432
            ],
            [
              -73.850567881823721,
              40.699601274264431
            ],
            [
              -73.849478,
              40.698196
            ],
            [
              -73.848927619874942,
              40.697471076467991
            ],
            [
              -73.84773478561398,
              40.694953994845925
            ],
            [
              -73.845026,
              40.689238000000216
            ],
            [
              -73.866245892743777,
              40.683202964174022
            ],
            [
              -73.866295,
              40.683189000000112
            ],
            [
              -73.866594747410261,
              40.685247661256781
            ],
            [
              -73.866598,
              40.685270000000259
            ],
            [
              -73.867455656760313,
              40.688378773351666
            ],
            [
              -73.868063526908173,
              40.691182038474032
            ],
            [
              -73.867211000194459,
              40.691308439631584
            ],
            [
              -73.8672859633934,
              40.691664266808395
            ],
            [
              -73.86757095559355,
              40.692066032277609
            ],
            [
              -73.868644274478882,
              40.693898245228674
            ],
            [
              -73.868143792951329,
              40.694026045810617
            ],
            [
              -73.868572590507753,
              40.694699782011902
            ],
            [
              -73.862330227297079,
              40.69596225378455
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "neighborhood": "Ozone Park",
        "boroughCode": "4",
        "borough": "Queens",
        "@id": "http://nyc.pediacities.com/Resource/Neighborhood/Ozone_Park"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              -73.837544,
              40.691364000000391
            ],
            [
              -73.831083,
              40.678151000000312
            ],
            [
              -73.830875159571292,
              40.678108525041651
            ],
            [
              -73.83094,
              40.678120000000412
            ],
            [
              -73.83208,
              40.67526100000029
            ],
            [
              -73.833053,
              40.67541200000035
            ],
            [
              -73.833756,
              40.675226000000414
            ],
            [
              -73.835896,
              40.675754000000403
            ],
            [
              -73.83633,
              40.674922000000308
            ],
            [
              -73.83698,
              40.67467800000037
            ],
            [
              -73.836175,
              40.673150000000419
            ],
            [
              -73.835867000000135,
              40.672212000000435
            ],
            [
              -73.832906,
              40.666651000000215
            ],
            [
              -73.833216,
              40.666092000000148
            ],
            [
              -73.834857999999869,
              40.666457000000328
            ],
            [
              -73.83806,
              40.666852000000326
            ],
            [
              -73.83914,
              40.666688000000434
            ],
            [
              -73.840312999999838,
              40.667630000000393
            ],
            [
              -73.84214,
              40.668269000000507
            ],
            [
              -73.855716999999842,
              40.672534000000255
            ],
            [
              -73.857943569199563,
              40.673065969334409
            ],
            [
              -73.861070488448831,
              40.674021362389595
            ],
            [
              -73.861318389950469,
              40.675021051876257
            ],
            [
              -73.862346,
              40.679165000000367
            ],
            [
              -73.862390870813968,
              40.679160589621105
            ],
            [
              -73.86328200000014,
              40.679073000000393
            ],
            [
              -73.863283117565203,
              40.679077503010269
            ],
            [
              -73.864100963074208,
              40.682372851215426
            ],
            [
              -73.866026672426358,
              40.681918077386698
            ],
            [
              -73.866027,
              40.681918000000422
            ],
            [
              -73.866295,
              40.683189
            ],
            [
              -73.866245892743819,
              40.683202964174065
            ],
            [
              -73.845026,
              40.689238000000259
            ],
            [
              -73.837544,
              40.691364000000391
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "neighborhood": "South Ozone Park",
        "boroughCode": "4",
        "borough": "Queens",
        "@id": "http://nyc.pediacities.com/Resource/Neighborhood/South_Ozone_Park"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              -73.789417994367568,
              40.666321635014398
            ],
            [
              -73.78948100000018,
              40.665833000000262
            ],
            [
              -73.789727,
              40.665188
            ],
            [
              -73.790099000000154,
              40.664316
            ],
            [
              -73.800870999999887,
              40.665368000000157
            ],
            [
              -73.804548,
              40.665259000000191
            ],
            [
              -73.80614,
              40.664913000000169
            ],
            [
              -73.80664,
              40.664329000000166
            ],
            [
              -73.808177,
              40.664525000000211
            ],
            [
              -73.812102999999837,
              40.66308300000027
            ],
            [
              -73.814944999999881,
              40.662759000000293
            ],
            [
              -73.823102999999861,
              40.663654000000264
            ],
            [
              -73.82427,
              40.663577000000288
            ],
            [
              -73.82818,
              40.664079000000257
            ],
            [
              -73.831742,
              40.665182000000215
            ],
            [
              -73.83264,
              40.665184000000117
            ],
            [
              -73.832547,
              40.665378
            ],
            [
              -73.832717,
              40.665693000000218
            ],
            [
              -73.833216,
              40.666092000000106
            ],
            [
              -73.83291,
              40.666651000000257
            ],
            [
              -73.835867,
              40.672212000000393
            ],
            [
              -73.836175,
              40.673150000000376
            ],
            [
              -73.836980999999895,
              40.674678000000327
            ],
            [
              -73.83633,
              40.674922000000265
            ],
            [
              -73.835896,
              40.67575400000036
            ],
            [
              -73.83376,
              40.675226000000372
            ],
            [
              -73.83305,
              40.675412000000307
            ],
            [
              -73.83208,
              40.675261000000333
            ],
            [
              -73.83094,
              40.678120000000369
            ],
            [
              -73.830875159571264,
              40.678108525041694
            ],
            [
              -73.825781000000106,
              40.677207
            ],
            [
              -73.805832052641463,
              40.682913676841622
            ],
            [
              -73.803230000000113,
              40.677681000000106
            ],
            [
              -73.801216000000181,
              40.674344000000133
            ],
            [
              -73.790474000000188,
              40.673391
            ],
            [
              -73.788085000000137,
              40.673010000000161
            ],
            [
              -73.789307148257578,
              40.667181292926188
            ],
            [
              -73.789489,
              40.66631400000027
            ],
            [
              -73.789417994367568,
              40.666321635014398
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "neighborhood": "Middle Village",
        "boroughCode": "4",
        "borough": "Queens",
        "@id": "http://nyc.pediacities.com/Resource/Neighborhood/Middle_Village"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              -73.865009999999899,
              40.71077700000032
            ],
            [
              -73.86662,
              40.710402000000201
            ],
            [
              -73.868930429143035,
              40.70969653272919
            ],
            [
              -73.870155157628588,
              40.709221995008789
            ],
            [
              -73.872503678658418,
              40.708227388498763
            ],
            [
              -73.874886859359691,
              40.707002843134987
            ],
            [
              -73.880910012581751,
              40.706404537076807
            ],
            [
              -73.88598390240503,
              40.70628222094161
            ],
            [
              -73.89116529636847,
              40.708598305646312
            ],
            [
              -73.900309535529232,
              40.712685783380252
            ],
            [
              -73.900596,
              40.712697000000105
            ],
            [
              -73.900596564473261,
              40.712698933471444
            ],
            [
              -73.901158,
              40.714622000000219
            ],
            [
              -73.886258731228409,
              40.721733078089613
            ],
            [
              -73.885641000000192,
              40.722022000000187
            ],
            [
              -73.883047983647444,
              40.723021228512209
            ],
            [
              -73.880478165761133,
              40.724234753625318
            ],
            [
              -73.876980358082534,
              40.72573381405897
            ],
            [
              -73.874196388705812,
              40.727161490662397
            ],
            [
              -73.871429,
              40.729248000000148
            ],
            [
              -73.870876159788224,
              40.728051466553424
            ],
            [
              -73.870090937656386,
              40.726052719308555
            ],
            [
              -73.869292691740299,
              40.724435949058851
            ],
            [
              -73.864122963585046,
              40.718844827327779
            ],
            [
              -73.86003549913886,
              40.71497461445999
            ],
            [
              -73.859684075490691,
              40.714361940428049
            ],
            [
              -73.859637275280434,
              40.713400649942855
            ],
            [
              -73.865009999999899,
              40.71077700000032
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "neighborhood": "Glendale",
        "boroughCode": "4",
        "borough": "Queens",
        "@id": "http://nyc.pediacities.com/Resource/Neighborhood/Glendale"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              -73.85525835908291,
              40.702589606356213
            ],
            [
              -73.855253689327327,
              40.701921634531104
            ],
            [
              -73.857264214086115,
              40.701660261428074
            ],
            [
              -73.857331053398823,
              40.701154120445644
            ],
            [
              -73.8588912603757,
              40.701325615090617
            ],
            [
              -73.858525840300018,
              40.702951680527249
            ],
            [
              -73.862811493709103,
              40.703437057031337
            ],
            [
              -73.869021980649549,
              40.70286696257407
            ],
            [
              -73.875649820196969,
              40.702358467550852
            ],
            [
              -73.876146843794047,
              40.701889337897811
            ],
            [
              -73.87613804061165,
              40.70159263215438
            ],
            [
              -73.881761105506996,
              40.699493475198793
            ],
            [
              -73.882727805042194,
              40.700714029859284
            ],
            [
              -73.884280169377121,
              40.700191034021238
            ],
            [
              -73.88771600003578,
              40.699676450134938
            ],
            [
              -73.888078352875482,
              40.69906567832949
            ],
            [
              -73.88811872854528,
              40.698824417356313
            ],
            [
              -73.887860805847751,
              40.698019454735437
            ],
            [
              -73.887696811076552,
              40.697499182658085
            ],
            [
              -73.887329520317692,
              40.697040991146686
            ],
            [
              -73.88680731653497,
              40.696670051426146
            ],
            [
              -73.886281708548935,
              40.696374982481842
            ],
            [
              -73.88847482472724,
              40.695898989945874
            ],
            [
              -73.888422024341807,
              40.695623322789238
            ],
            [
              -73.889064437623119,
              40.694943550725064
            ],
            [
              -73.891906594226711,
              40.694316784684524
            ],
            [
              -73.892363266325304,
              40.695292785890189
            ],
            [
              -73.895795828864607,
              40.694405729573127
            ],
            [
              -73.893679093844071,
              40.693219564906094
            ],
            [
              -73.893541068832334,
              40.692287212365528
            ],
            [
              -73.89460451418816,
              40.692584169205126
            ],
            [
              -73.896967724843861,
              40.691920312871744
            ],
            [
              -73.897719662609163,
              40.693410980865558
            ],
            [
              -73.897053041111249,
              40.693930926798835
            ],
            [
              -73.897346173910606,
              40.694114892600794
            ],
            [
              -73.90039437797121,
              40.693329653190126
            ],
            [
              -73.894388,
              40.700784
            ],
            [
              -73.89672172722041,
              40.706092803925195
            ],
            [
              -73.892384622529534,
              40.70717059409391
            ],
            [
              -73.89116529636847,
              40.708598305646312
            ],
            [
              -73.88598390240503,
              40.70628222094161
            ],
            [
              -73.880910012581751,
              40.706404537076807
            ],
            [
              -73.874886859359691,
              40.707002843134987
            ],
            [
              -73.872503678658418,
              40.708227388498763
            ],
            [
              -73.870155157628588,
              40.709221995008789
            ],
            [
              -73.868930429143035,
              40.70969653272919
            ],
            [
              -73.86662,
              40.710402000000244
            ],
            [
              -73.86501,
              40.710777000000363
            ],
            [
              -73.859637275280434,
              40.713400649942855
            ],
            [
              -73.859771246213484,
              40.711843094161978
            ],
            [
              -73.859185559385836,
              40.707093634060868
            ],
            [
              -73.85881616356285,
              40.706203868557623
            ],
            [
              -73.85823256262168,
              40.705596880738128
            ],
            [
              -73.855548491193005,
              40.70372174450776
            ],
            [
              -73.85529094184345,
              40.703143952817335
            ],
            [
              -73.85525835908291,
              40.702589606356213
            ]
          ]
        ]
      }
    }
  ]
};


var settings = {
	map_id: 'map',
	location: locations.queensway,
}

var my_map = useMap(locations, settings, 'queensway', geoBorough);

function initMap(location, settings) {
	var my_map = L.map(settings.map_id).setView([location.x, location.y], 13);

	L.tileLayer('https://api.mapbox.com/styles/v1/atomox/ciyyz1eup003e2ro0dln2vn6z/tiles/256/{z}/{x}/{y}?access_token={accessToken}', {
	    attribution: 'Hi Dad',
	    maxZoom: 18,
	    id: 'atomox',
	    accessToken: 'pk.eyJ1IjoiYXRvbW94IiwiYSI6ImNpeXl5eDA5ZzAxZXQycW1tdGMwMTAwdGwifQ.YbdD2Jo6qMjNiQuyA1QN0w'
	}).addTo(my_map);

	return my_map;
}


function useMap(locations, settings, location_id, features) {

	var my_map = initMap(locations[location_id], settings);

	setEnvironment(locations[location_id], my_map);

	setGeoJsonFeature(features, my_map);

	return my_map;
}


function setGeoJsonFeature (feature, target_map) {
	L.geoJSON(feature).addTo(target_map);
}


function setEnvironment(location, target_map) {
	console.log(location);
	if (typeof location.pointsofinterest !== 'object' || location.pointsofinterest === null) {
		return;
	}

	for (var i = 0; i < location.pointsofinterest.length; i++) {
		switch (location.pointsofinterest[i].type) {
			case 'marker':
				setMarker(location.pointsofinterest[i], target_map);
				break;

		}
	}
}


function setMarker(obj, target) {
	var marker = L.marker([obj.cords.x, obj.cords.y]).addTo(target);
}




/**
// Marker
var marker = L.marker([51.5, -0.09]).addTo(mymap);

// Circle
var circle = L.circle([51.508, -0.11], {
    color: 'red',
    fillColor: '#f03',
    fillOpacity: 0.5,
    radius: 500
}).addTo(mymap);

// Poly
var polygon = L.polygon([
    [51.509, -0.08],
    [51.503, -0.06],
    [51.51, -0.047]
]).addTo(mymap);

marker.bindPopup("<b>Hello world!</b><br>I am a popup.").openPopup();
circle.bindPopup("I am a circle.");
polygon.bindPopup("I am a polygon.");


var popup = L.popup()
    .setLatLng([51.5, -0.09])
    .setContent("I am a standalone popup.")
    .openOn(mymap);

*/
var popup_1 = L.popup();

function onMapClick(e) {
    popup_1
        .setLatLng(e.latlng)
        .setContent("You clicked the map at " + e.latlng.toString())
        .openOn(my_map);
}

my_map.on('click', onMapClick);